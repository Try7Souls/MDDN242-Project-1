<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Evil Website</title>

  <!-- Describe your page â€” shows up in search results and browser tabs -->
  <meta name="description" content="A short description of your page goes here." />

  <!-- Your styles -->
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* Keyboard users need to see where focus is */
    :focus-visible {
      outline: 2px solid currentColor;
      outline-offset: 2px;
    }

    /* Respect users who prefer less motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1 class="title">Basic Website!</h1>
  </header>

  <nav aria-label="Primary">
    <ul>
      <li><a href="#" aria-current="page">Home</a></li>
    </ul>
  </nav>

  <main id="main-content">
    <div class="underline" aria-hidden="true"></div>
    <p>Your content goes here.</p>
    <button class="main-button" id="myButton" type="button">Button</button>
  </main>

  <footer>
    <small>&copy; <span id="year"></span> Your Name</small>
  </footer>

  <!-- CHAOS overlay + controls (added) -->
  <div class="chaos-layer" id="chaosLayer" aria-hidden="true"></div>
  <div class="chaos-controls" role="toolbar" aria-label="Chaos controls">
    <button type="button" id="chaosReroll" title="Reroll (R)">Reroll</button>
    <button type="button" id="chaosToggle" title="Pause/Play (P)">Pause</button>
    <button type="button" id="chaosClear" title="Clear (C)">Clear</button>
  </div>

  <script>
    // Keep the copyright year current automatically
    document.getElementById('year').textContent = new Date().getFullYear();

    const btn = document.getElementById('myButton');
    if (btn) {
      btn.addEventListener('click', () => {
        alert('Button clicked');
      });
    }
  </script>

  <!-- Your scripts -->
  <script src="script.js"></script>

  <!-- CHAOS script (added) -->
  <script>
    (function () {
      const pick = arr => arr[Math.floor(Math.random() * arr.length)];
      const rand = (min, max) => Math.random() * (max - min) + min;
      const randInt = (min, max) => Math.floor(rand(min, max + 1));
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // Pools
      const words   = ["CHAOS","GLITCH","NOISE","SPARK","WILD","ECHO","PIXEL","FLUX","SHIFT","WOBBLE","ZAP","BOUNCE","WAVE","SPIN","DRIFT","BURST","SPARKLE","SWIRL","FIZZ","POP","BLIP","BLOOM","SHIMMER","GLOW","TWIST","TILT","SWOOP","ZIG","ZAG"];
      const phrases = ["Unstable text field","Everything everywhere now","Maximum entropy","This is fine (?)","Aesthetic turbulence","Abstract interface","Design in motion","Pattern in the noise","Reroll reality","Pixel storm"];
      const emojis  = ["âœ¨","âš¡ï¸","ğŸ’¥","ğŸŒ€","ğŸ‰","ğŸ”¥","ğŸŒˆ","ğŸ’«","ğŸ§ª","ğŸ”®","ğŸ§©","ğŸ¯","ğŸ§·","ğŸ§µ","ğŸ§¿","ğŸª©","â­","ğŸŒŸ","â‡ï¸","â“","â—"];
      const glyphs  = ["â—†","â—‡","â—","â—‹","â– ","â–¡","â–²","â–³","â–¼","â–½","âœ¦","âœ§","âœº","âœ¹","âœ¸","âœ»","âœ¼","âœ¶","âœ·"];

      function randomColor() {
        const h = randInt(0, 360), s = randInt(50, 95), l = randInt(45, 70);
        return `hsl(${h} ${s}% ${l}%)`;
      }
      function randomDark() {
        const h = randInt(0, 360), s = randInt(30, 80), l = randInt(5, 18);
        return `hsl(${h} ${s}% ${l}%)`;
      }

      // Randomize the visible copy
      function randomizeMainCopy() {
        const headerTitle = document.querySelector(".title") || document.querySelector("h1");
        if (headerTitle) headerTitle.textContent = pick([...words, ...phrases]);

        const p = document.querySelector("main p");
        if (p) p.textContent = pick([
          "The interface has become sentientâ€”tap the button to negotiate.",
          "Chaotic good UI: random but kind.",
          "This paragraph is a decoy. The real content escaped.",
          "Entropy increased successfully. Proceed with caution.",
          "Experimental layout. Effects may vary per refresh."
        ]);

        const b = document.getElementById("myButton");
        if (b) b.textContent = pick(["Reroll Reality","Make It Weirder","Do Chaos","Mix It Up","Shake It"]);

        document.title = pick(["Chaos Mode","Entropy Simulator","UI Anomaly","Text Storm","Glitch Garden"]);
      }

      function makeShape(type, size) {
        const el = document.createElement("div");
        el.className = "chaos-item shape";
        el.style.width = el.style.height = size + "px";
        el.style.background = Math.random() < 0.5 ? randomColor() : "transparent";

        if (Math.random() < 0.6) el.style.border = `${Math.max(2, size*0.06)}px solid ${randomColor()}`;

        if (type === "circle") {
          el.style.borderRadius = "50%";
        } else if (type === "triangle") {
          el.style.width = 0; el.style.height = 0;
          const base = size, height = size;
          el.style.borderLeft   = `${base/2}px solid transparent`;
          el.style.borderRight  = `${base/2}px solid transparent`;
          el.style.borderBottom = `${height}px solid ${randomColor()}`;
          el.style.background = "transparent";
        } else {
          // square / diamond
          if (Math.random() < 0.5) el.style.transform = "rotate(45deg)";
          el.style.borderRadius = Math.random() < 0.5 ? rand(4, 18) + "px" : "0";
        }

        if (Math.random() < 0.25) el.style.mixBlendMode = pick(["multiply","screen","overlay","difference","hard-light"]);
        return el;
      }

      function makeTextNode() {
        const el = document.createElement("span");
        el.className = "chaos-item";

        const mode = pick(["word","phrase","emoji","glyph","mix"]);
        let content = "";
        if (mode === "word") content = pick(words);
        else if (mode === "phrase") content = pick(phrases);
        else if (mode === "emoji") content = pick(emojis);
        else if (mode === "glyph") content = pick(glyphs);
        else content = `${pick(words)} ${pick(glyphs)} ${pick(emojis)}`;
        el.textContent = content;

        const size = rand(12, 64);
        el.style.fontSize = size + "px";
        el.style.color = Math.random() < 0.15 ? "#fff" : randomColor();

        if (Math.random() < 0.18) {
          el.style.background = Math.random() < 0.5 ? randomDark() : randomColor();
          el.style.padding = `${Math.max(2, size*0.12)}px ${Math.max(6, size*0.22)}px`;
          el.style.borderRadius = rand(4, 16) + "px";
        }
        if (Math.random() < 0.25) el.style.textShadow = `0 2px 8px ${randomDark()}`;
        if (Math.random() < 0.2) el.style.letterSpacing = rand(-1, 3) + "px";
        if (Math.random() < 0.15) el.style.writingMode = pick(["vertical-rl","horizontal-tb"]);
        if (Math.random() < 0.2) el.style.mixBlendMode = pick(["screen","multiply","soft-light","difference"]);

        return el;
      }

      function placeAndAnimate(el, layerW, layerH) {
        const approxW = 200, approxH = 60; // rough before layout
        const x = rand(0, Math.max(0, layerW - approxW));
        const y = rand(0, Math.max(0, layerH - approxH));
        el.style.left = x + "px";
        el.style.top  = y + "px";

        if (!prefersReduced) {
          const variants = [
            {name:"floatY", dur: rand(3, 8), dir: "alternate"},
            {name:"floatX", dur: rand(3, 8), dir: "alternate"},
            {name:"spin",   dur: rand(6, 14), dir: "normal"},
            {name:"drift",  dur: rand(5, 10), dir: "alternate"},
            {name:"jitter", dur: rand(0.8, 1.6), dir: "alternate"},
            {name:"pulse",  dur: rand(2, 4), dir: "alternate"},
            {name:"glitch", dur: rand(1.2, 2.2), dir: "alternate"}
          ];
          const chosen = [pick(variants)];
          if (Math.random() < 0.4) chosen.push(pick(variants));
          el.style.animation = chosen.map(c => `${c.name} ${c.dur.toFixed(2)}s ${c.dir} infinite`).join(", ");
          el.style.animationDelay = `${rand(0, 2).toFixed(2)}s`;
        }
      }

      function makeChaosItem(layerW, layerH) {
        const isShape = Math.random() < 0.35;
        const el = isShape
          ? makeShape(pick(["circle","square","diamond","triangle"]), randInt(16, 120))
          : makeTextNode();
        placeAndAnimate(el, layerW, layerH);
        return el;
      }

      function populateChaos(count) {
        const layer = document.getElementById("chaosLayer");
        if (!layer) return;
        const w = layer.clientWidth || window.innerWidth;
        const h = layer.clientHeight || window.innerHeight;

        layer.innerHTML = "";
        for (let i = 0; i < count; i++) {
          const item = makeChaosItem(w, h);
          layer.appendChild(item);
          // re-clamp after real size known
          const r = item.getBoundingClientRect();
          const maxX = w - r.width, maxY = h - r.height;
          item.style.left = Math.max(0, Math.min(parseFloat(item.style.left), maxX)) + "px";
          item.style.top  = Math.max(0, Math.min(parseFloat(item.style.top),  maxY)) + "px";
        }
      }

      // Controls
      let running = true;
      function pauseChaos() {
        document.querySelectorAll('.chaos-item').forEach(el => el.style.animationPlayState = "paused");
        running = false;
      }
      function playChaos() {
        document.querySelectorAll('.chaos-item').forEach(el => el.style.animationPlayState = "running");
        running = true;
      }
      function toggleChaos() { running ? pauseChaos() : playChaos(); }

      function reroll() {
        randomizeMainCopy();
        populateChaos(randInt(24, 64));
        if (!running) playChaos();
      }
      function clearChaos() {
        const layer = document.getElementById("chaosLayer");
        if (layer) layer.innerHTML = "";
      }

      function wireControls() {
        const bR = document.getElementById("chaosReroll");
        const bT = document.getElementById("chaosToggle");
        const bC = document.getElementById("chaosClear");

        if (bR) bR.addEventListener("click", reroll);
        if (bT) bT.addEventListener("click", () => {
          toggleChaos();
          bT.textContent = running ? "Pause" : "Play";
        });
        if (bC) bC.addEventListener("click", clearChaos);

        // Keyboard: R, P, C
        document.addEventListener("keydown", (e) => {
          const k = e.key.toLowerCase();
          if (k === "r") reroll();
          if (k === "p") { toggleChaos(); if (bT) bT.textContent = running ? "Pause" : "Play"; }
          if (k === "c") clearChaos();
        });

        // Bonus: Shift+Click your main button to reroll
        const mainBtn = document.getElementById("myButton");
        if (mainBtn) {
          mainBtn.addEventListener("click", (e) => {
            if (e.shiftKey) reroll();
          });
        }
      }

      // Init
      document.addEventListener("DOMContentLoaded", () => {
        randomizeMainCopy();
        populateChaos(randInt(24, 64));
        wireControls();
      });

      // Rebuild on resize
      let rAF = null;
      window.addEventListener("resize", () => {
        if (rAF) cancelAnimationFrame(rAF);
        rAF = requestAnimationFrame(() => populateChaos(randInt(24, 64)));
      });
    })();
  </script>

</body>
</html>